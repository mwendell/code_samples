<?php

// this file simply stores the big error tables, to keep them out of the main plugin file.

// primary errors

function get_prd_error($code, $program) {

	$error = false;

	// gatekeeper errors from 2/13/2016 PRD document 
	$gk = array(
		1		=> '[Internal Execution Error]',
		3		=> 'USERID not found',
		5		=> 'NOT Authorized',
		7		=> 'Internal Web Svc Info not found',
		8		=> 'Could not LOAD Web Service Option information',
		10		=> 'Web service inactive',
		11		=> 'Web service inactive',
		12		=> 'Web service inactive',
		13		=> 'Services Disabled',
		20		=> 'SSL error',
		21		=> '[Internal execution error]',
		23		=> 'IP error',
		30		=> 'Org on file for your organization is bad',
		31		=> 'Org parameter is bad',
		32		=> 'Org parameter and Org on file don’t match',
		33		=> 'Program Type ID parameter not passed',
		34		=> 'Program Type ID not registered for your company',
		35		=> 'Program Type ID bad',
		36		=> 'Program ID bad',
		37		=> 'Program type id not valid for web service',
		40		=> 'Reference ID not valid',
		41		=> 'Transaction ID not valid',
		42		=> 'Transcode not valid',
		105		=> 'Failed input validation',
		150		=> 'No password (or salt) supplied for userid',
		160		=> 'No password (or salt) supplied for userid',
		180		=> '[Internal Execution Error]',
		190		=> 'Error querying for customer info',
		200		=> 'Lookup fields not correctly defined',
		210		=> 'No customer or user account exists for cust#',
		300		=> 'Error initializing while impersonating user',
		350		=> '[Internal execution error]',
		360		=> 'Error querying for customer info',
		500		=> '[Internal execution error]',
		510		=> 'Error querying user table',
		520		=> 'Error querying for user – no response returned',
		550		=> '[Internal execution error]',
		560		=> 'Error querying for history info',
		600		=> 'Error loading cust/user list',
		610		=> 'Error reading the password from file',
		620		=> '[Internal execution error]',
		630		=> 'Error updating password',
		650		=> '[Internal execution error]',
		660		=> 'Error querying for history info',
		670		=> '[Internal execution error]',
		680		=> 'Error querying for subscription customer info',
		700		=> 'Variable optin – where there are multiple orgs being searched in an “across the universe” situation, not all of the orgs have the same variable optin setting.',
		1010	=> 'Policy not set to allow validating subscription',
		1015	=> 'Option "validate_subscription" not compatible when org is a "parent"',
		1020	=> 'Policy not set to allow "search_by_custno"',
		1025	=> 'Option "search_by_custno" not compatible when org is a "parent"',
		1040	=> 'When "customer_number" is passed in, org cannot be a "parent"',
		1050	=> 'More than one USERID was found matching the search parameters.  Please pass in a userid or refine the search some other way'
	);

	// special programs errors from 1/18/2016 PRD document
	$sp = array(
		1		=> '[Internal Execution Error]',
		3		=> 'USERID not found',
		5		=> 'NOT Authorized',
		7		=> 'Internal Web Svc Info not found',
		8		=> 'Could not LOAD Web Service Option information',
		10		=> 'Web service inactive',
		11		=> 'Web service inactive',
		12		=> 'Web service inactive',
		13		=> 'Services Disabled',
		20		=> 'SSL error',
		21		=> '[Internal execution error]',
		23		=> 'IP error',
		30		=> 'Org on file for your organization is bad',
		31		=> 'Org parameter is bad',
		32		=> 'Org parameter and Org on file don’t match',
		33		=> 'Program Type ID parameter not passed',
		34		=> 'Program Type ID not registered for your company',
		35		=> 'Program Type ID bad',
		36		=> 'Program ID bad',
		37		=> 'Program type id not valid for web service',
		40		=> 'Reference ID not valid',
		41		=> 'Transaction ID not valid',
		42		=> 'Transcode not valid',
		1000	=> 'No actions were requested',
		1010	=> 'org was a “parent,” which is not allowed',
		1020	=> 'program_id is a required field',
		1030	=> 'program_id is not valid or active',
		1040	=> 'customer_number failed input validation',
		1050	=> 'gift_number failed input validation',
		1060	=> 'program_id was not valid for this customer/gift combination',
		1080	=> 'Requested action was not unique.  Actions are mutually exclusive.',
		1110	=> 'refund_amt is required',
		1120	=> 'refund_amt isn’t a number',
		1130	=> 'refund_amt is too large a number',
		1140	=> 'sp_ref_id is required',
		1150	=> 'sp_ref_id is not valid',
		1160	=> 'weeks_on_hold is not valid',
		1170	=> 'hold_date is required',
		1180	=> 'hold_date isn’t valid',
		1190	=> 'recurring_amt is required',
		1210	=> 'recurring_amt isn’t a number',
		1220	=> 'recurring_amt is too large a number',
		1230	=> 'recurring_date is required',
		1240	=> 'recurring_date isn’t valid',
		1250	=> 'period isn’t valid',
		1260	=> 'frequency isn’t valid',
		1270	=> 'Some of the “cc” fields were missing and are required',
		1280	=> 'cc_number isn’t valid',
		1290	=> 'cc_exp_mm isn’t valid',
		1310	=> 'cc_exp_yyyy isn’t valid',
		1320	=> 'The “cc expire information” is “in the past”',
		1330	=> 'Credit Card type not supported',
		1410	=> 'refund_amt was supplied but should not be',
		1420	=> 'sp_ref_id was supplied but should not be',
		1430	=> 'weeks_on_hold was supplied but should not be',
		1440	=> 'hold_date was supplied but should not be',
		1450	=> 'recurring_amt was supplied but should not be',
		1460	=> 'recurring_date was supplied but should not be',
		1470	=> 'period was supplied but should not be',
		1480	=> 'frequency was supplied but should not be',
		1490	=> 'cc_number was supplied but should not be',
		1510	=> 'cc_exp_mm was supplied but should not be',
		1520	=> 'cc_exp_yyyy was supplied but should not be',
		3010	=> 'DB error submitting special program mgmt. action',
		3020	=> 'Error submitting special program mgmt. action.',
		3030	=> 'No response submitting special program mgmt. action.',
		11010	=> 'Customer’s special program is not on hold',
		11020	=> 'Customer’s special program is not active',
		11030	=> 'Credit card number is invalid',
		11040	=> 'Credit Card number and /or expiration date is required',
		11050	=> 'Customer number is invalid',
		11060	=> 'Gift number is invalid',
		11070	=> 'Expiration date is invalid',
		11080	=> 'Frequency is invalid',
		11090	=> 'Function to perform is invalid',
		11110	=> 'Special program doesn`t allow hold',
		11120	=> 'Both start hold date and weeks to hold are required',
		11130	=> 'Frequency is greater than max allowed',
		11140	=> 'Organization code is invalid',
		11150	=> 'Period is invalid',
		11160	=> 'Both period and frequency are required',
		11170	=> 'Special program number is not valid',
		11180	=> 'Special program number is invalid',
		11190	=> 'Special program is not active',
		11210	=> 'Recurring charge amount is invalid',
		11220	=> 'Recurring charge amount must be greater than zero (0)',
		11230	=> 'Recurring charge date is invalid',
		11240	=> 'Recurring charge date must be >= tomorrow`s date',
		11250	=> 'At least one recurring charge info change is required',
		11260	=> 'Special program does not allow recurring charges',
		11270	=> 'Reference id hash is invalid',
		11280	=> 'Amount requested is greater than available amount to refund',
		11290	=> 'Refund amount is invalid',
		11310	=> 'Refund failed to process',
		11320	=> 'Start hold date is invalid',
		11330	=> 'Number of weeks to hold is invalid',
		7000	=> 'No transactions allowed in readonly mode',
		9999	=> 'Unrecognized error.',
	);
	
	// ecommerce errors from 2/18/2016 PRD document
	$ec = array(
		1		=> '[Internal Execution Error]',
		3		=> 'USERID not found',
		5		=> 'NOT Authorized',
		7		=> 'Internal Web Svc Info not found',
		8		=> 'Could not LOAD Web Service Option information',
		10		=> 'Web service inactive',
		11		=> 'Web service inactive',
		12		=> 'Web service inactive',
		13		=> 'Services Disabled',
		20		=> 'SSL error',
		21		=> '[Internal execution error]',
		23		=> 'IP error',
		30		=> 'Org on file for your organization is bad',
		31		=> 'Org parameter is bad',
		32		=> 'Org parameter and Org on file don’t match',
		33		=> 'Program Type ID parameter not passed',
		34		=> 'Program Type ID not registered for your company',
		35		=> 'Program Type ID bad',
		36		=> 'Program ID bad',
		37		=> 'Program type id not valid for web service',
		40		=> 'Reference ID not valid',
		41		=> 'Transaction ID not valid',
		42		=> 'Transcode not valid',
		1010	=> 'Payment type not valid',
		1020	=> 'Currency type not valid',
		1030	=> 'Order amount not valid',
		1040	=> 'Amount paid not valid',
		1050	=> 'Sub order (after parsing ecommerce order) has an amount paid that is not valid for payment_type',
		2010	=> 'No customer information was supplied',
		2020	=> 'Format of customer information not valid',
		2030	=> 'Cust org must be specified if web svc org is a parent and customer_number is set',
		2040	=> 'Cust org not valid',
		2050	=> 'Customer number must be supplied if refresh customer is "Y"',
		2060	=> 'Customer number not valid',
		2070	=> 'First name not valid',
		2080	=> 'MI not valid',
		2090	=> 'Last name not valid',
		2100	=> 'Professional Title not valid',
		2110	=> 'Business Name not valid',
		2120	=> 'Add1 not valid',
		2130	=> 'Add2 not valid',
		2140	=> 'Add3 not valid',
		2150	=> 'City not valid',
		2160	=> 'State not valid',
		2170	=> 'Zip not valid',
		2180	=> 'Country not valid',
		2190	=> 'Phone not valid',
		2200	=> 'FAX not valid',
		2210	=> 'Title not valid',
		2220	=> 'Suffix not valid',
		2230	=> 'Email not valid',
		2240	=> 'Alt City not valid',
		2250	=> 'Optin flag not valid',
		3010	=> 'Gift customer array has an invalid format',
		3020	=> 'Gift ref not supplied',
		3030	=> 'The same gift ref is used for more than one gift customer',
		3040	=> 'Gift ref has an invalid format',
		3050	=> 'Gift ref not found on any order',
		3060	=> 'Gift cust org must be specified if web svc org is a parent and customer_number is set',
		3070	=> 'Gift org invalid',
		3080	=> 'Gift customer number not valid',
		3090	=> 'Gift first name not valid',
		3100	=> 'Gift MI not valid',
		3110	=> 'Gift last name not valid',
		3120	=> 'Gift Professional Title not valid',
		3130	=> 'Gift Business Name not valid',
		3140	=> 'Gift add1  not valid',
		3150	=> 'Gift add2 not valid',
		3160	=> 'Gift add3 not valid',
		3170	=> 'Gift city not valid',
		3180	=> 'Gift state not valid',
		3190	=> 'Gift zip not valid',
		3200	=> 'Gift country not valid',
		3210	=> 'Gift phone not valid',
		3220	=> 'Gift FAX not valid',
		3230	=> 'Gift title not valid',
		3240	=> 'Gift suffix not valid',
		3250	=> 'Gift email not valid',
		3260	=> 'Gift Alt City not valid',
		3270	=> 'Gift optin flag not valid',
		4010	=> 'Ship addresses array has an invalid format',
		4020	=> 'Ship ref not supplied',
		4030	=> 'The same ship ref is used for more than one shipping address',
		4040	=> 'Ship ref has an invalid format',
		4050	=> 'Ship ref not found on any order',
		4060	=> 'Ship first name not valid',
		4070	=> 'Ship MI not valid',
		4080	=> 'Ship last name not valid',
		4090	=> 'Ship Professional Title not valid',
		4100	=> 'Ship Business Name not valid',
		4110	=> 'Ship add1  not valid',
		4120	=> 'Ship add2 not valid',
		4130	=> 'Ship add3 not valid',
		4140	=> 'Ship city not valid',
		4150	=> 'Ship state not valid',
		4160	=> 'Ship zip not valid',
		4170	=> 'Ship country not valid',
		4180	=> 'Ship phone not valid',
		4190	=> 'Ship FAX not valid',
		4200	=> 'Ship title not valid',
		4210	=> 'Ship suffix not valid',
		5010	=> '"cn_orders" does not have the correct format',
		5020	=> '"ca_orders" does not have the correct format',
		5030	=> '"su_orders" does not have the correct format',
		5040	=> 'Nothing was ordered',
		5050	=> 'Program type id on order not valid',
		5060	=> 'Payment type not valid for program type',
		5070	=> 'Order org not valid',
		5080	=> 'Key code not valid',
		5090	=> 'Product on order not valid',
		5100	=> 'Could not resolve to a valid brand id',
		5110	=> 'Gift ref on order not found in gift_customers',
		5120	=> 'Ship ref on order not found in ship_addresses',
		5130	=> 'Ship ref on order, but not allowed for program type',
		5140	=> 'Both gift_ref and ship_ref on the same order not allowed',
		5150	=> 'Qty not valid',
		5160	=> 'Price not valid',
		5170	=> 'Shipping not valid',
		5180	=> 'Tax not valid',
		5190	=> 'Rush charge not valid',
		5200	=> 'Net discount not valid',
		5210	=> '"Send email confirmation" not valid',
		5220	=> 'Auto charge not valid',
		5230	=> 'Ref order ID not valid',
		5240	=> 'Nickname not valid',
		5250	=> 'Priority shipping not valid',
		5260	=> 'Allow contract limits not valid',
		5270	=> 'Premium 1 not valid',
		5280	=> 'Premium 2 not valid',
		5290	=> 'Premium 3 not valid',
		5300	=> 'Term not valid',
		5310	=> 'Start issue not valid',
		5320	=> 'Survey Trans ID not valid',
		5330	=> 'Survey Trans ID not valid for payment type',
		5340	=> 'Price on purchase record was zero, which is not valid',
		5350	=> 'Price on purchase record was zero, which is not valid if shipping or tax have a value',
		5360	=> 'Price on purchase record was zero, but free_ok was not Y',
		5370	=> 'Invalid purchase record customer_number',
		5380	=> 'Customer not found using purchase record customer_number',
		5390	=> 'Product not active / valid (for subscriptions only)',
		5400	=> 'Agency code not valid',
		5410	=> 'Agency remit amount not valid',
		5420	=> 'Agency code supplied but no agency_remit_amt',
		5430	=> 'Agency remit amount supplied but no agency_code',
		5440	=> 'Invalid ship_code was passed',
		5450	=> 'When ship_code is specified, priority_shipping cannot be "Y" (they are mutually exclusive.)',
		5460	=> 'Invalid order_ref_id was passed',
		5470	=> 'Invalid vendor_id was passed',
		5480	=> 'Invalid web_survey was passed',
		5490	=> 'Invalid web_survey payment type was passed',
		5500	=> 'Invalid entity_id  was passed',
		5510	=> 'Errors with drop_ship (defaults to “N” if not “Y”)',
		5520	=> 'Errors with drop_ship_status (defaults to “” if not “S” or drop_ship is not “Y”)',
		5530	=> 'nickname did not pass validation',
		5540	=> 'access_duration_type did not pass validation',
		5550	=> 'access_duration did not pass validation',
		5560	=> 'access_eff_date did not pass validation',
		5570	=> 'access_duration_type, access_duration, or access_eff_date were passed in, but not all of them (which is required.)',
		5610	=> '"sp_orders" does not have the correct format',
		5620	=> 'Product was not active/valid',
		5630	=> 'No special programs ordered',
		5640	=> 'offer_pmt not valid',
		5650	=> 'offer_tax not valid',
		5670	=> 'offer_baldue not valid',
		5690	=> 'offer_baldue_date not valid',
		5700	=> 'If offer_baldue > 0, offer_baldue_date is required, but is missing',
		5710	=> 'recurring_amt is not valid',
		5730	=> 'recurring_date is not valid',
		5740	=> 'If recurring_amt > 0, recurring_date is required, but is missing',
		5750	=> 'frequency is not valid',
		5760	=> 'period is not valid',
		5770	=> 'payment_type is not valid based on the amounts on this order',
		5780	=> 'An active program for this customer/gift is conflicting with this order',
		5810	=> '"sp_applied" does not have the correct format',
		5820	=> 'sp_code within sp_applied did not resolve to an active or valid “special program”',
		5830	=> '“special program” is not active or valid for this customer',
		5840	=> 'sp_qty within sp_applied is not valid',
		5850	=> 'sp_qty within sp_applied is 0, which is not valid for this “special program”',
		5860	=> 'sp_qty within sp_applied exceeds the “special program” qty available for this customer',
		5870	=> 'sp_amt within sp_applied is not valid',
		5880	=> 'sp_prod within sp_applied is not valid or is not on this order',
		5890	=> 'The sum of sp_amt’s within sp_applied do not match the order level sp_amt',
		5910	=> 'sp_applied has too many elements - the max is 20',
		5920	=> 'This special program does not allow recurring charges',
		5930	=> 'Cannot have offer_tax without offer_pmt',
		5940	=> 'offer_pmt was zero, but offer_qty was not, and payment_type was not “F” and offer_pmt_free_ok was not “Y”',
		5950	=> 'offer_baldue was zero, but offer_baldue_qty was not, and payment_type was not “F” and offer_baldue_free_ok was not “Y”',
		5960	=> 'sp_orders element has conflicting entries',
		5970	=> 'sp_amt on order was greater than order amount',
		6010	=> 'Could not find the customer matchkey using customer number',
		6020	=> 'Could not find the gift customer matchkey using gift customer number',
		6030	=> 'Could not find the customer profile using customer number',
		6040	=> 'Could not find the gift customer profile using gift customer number',
		6050	=> 'DB error adding customer',
		6060	=> 'DB error adding gift customer',
		6070	=> 'Error adding customer',
		6080	=> 'Error adding gift customer',
		6090	=> 'No response adding customer',
		6100	=> 'No response adding gift customer',
		6110	=> 'Customer could not be found OR added',
		6120	=> 'Gift customer could not be found OR added',
		7000	=> 'No transactions allowed in readonly mode',
		9999	=> 'Unknown error occurred',
		10000	=> 'Unknown CC error',
		10010	=> 'Payment type was "C" but nothing found to charge',
		10020	=> 'CC amount doesn`t match the order amount',
		10030	=> 'CC auth number not valid',
		10035	=> 'CC name not valid',
		10040	=> 'CC address not valid',
		10050	=> 'CC city not valid',
		10060	=> 'CC Number not valid',
		10070	=> 'CC exp month not valid',
		10080	=> 'CC exp year not valid',
		10090	=> 'CC security code not valid',
		10100	=> 'CC amount not valid',
		10110	=> 'CC country not valid',
		10120	=> 'CC require card security not valid',
		10130	=> 'CC zip not valid',
		10140	=> 'CC state not valid',
		10150	=> 'CC trans type not valid',
		10160	=> 'CC expiration date is in the past',
		10170	=> 'DB error when processing CC transaction',
		10180	=> 'Error when processing CC transaction',
		10190	=> 'No response when processing CC transaction',
		10200	=> 'UserID not valid',
		10210	=> 'Password not valid',
		10220	=> 'Authorization record not found',
		10230	=> 'Credit card number is invalid',
		10240	=> 'Credit card type does not match CC',
		10250	=> 'Customer number is invalid',
		10260	=> 'Auth network error ',
		10270	=> 'Expiration date is invalid',
		10280	=> 'Org is not set up to process CC’s',
		10290	=> 'Revenue ID is invalid',
		10300	=> 'Auth network error',
		10310	=> 'Settlement type is invalid',
		10320	=> 'Transaction amount is invalid',
		10330	=> 'Transaction type is invalid',
		10340	=> 'Unsettled record not inserted',
		10400	=> 'Error encrypting credit card (internal)',
		10410	=> 'Error encrypting credit card – index empty (internal)',
		10420	=> 'Error encrypting credit (internal)',
		10430	=> 'Error encrypting credit card – index empty (internal)',
		10460	=> 'CC Index is for internal use only',
	);

	switch($program) {
		case 'ec': $error = $ec[$code]; break;
		case 'sp': $error = $ec[$code]; break;
		case 'gk': $error = $ec[$code]; break;
	}

	return $error;

}

// legacy function below used on front end of site (see meguoda order process).

function prd_error_lookup($e) {

	$errors = array(
		0		=> array('An unknown, unlisted error occurred','There was an internal error contacting PRD, or the error was not listed in the error database.'),
		1		=> array('[Internal Execution Error]','There was an internal error processing the card payment.'),
		3		=> array('USERID not found','There was an internal error processing the card payment.'),
		5		=> array('NOT Authorized','There was an internal error processing the card payment.'),
		7		=> array('Internal Web Svc Info not found','There was an internal error processing the card payment.'),
		8		=> array('Could not LOAD Web Service Option information','There was an internal error processing the card payment.'),
		10		=> array('Web service inactive','There was an internal error processing the card payment.'),
		11		=> array('Web service inactive','There was an internal error processing the card payment.'),
		12		=> array('Web service inactive','There was an internal error processing the card payment.'),
		13		=> array('Services Disabled','There was an internal error processing the card payment.'),
		20		=> array('SSL error','There was an internal error processing the card payment.'),
		21		=> array('[Internal execution error]','There was an internal error processing the card payment.'),
		23		=> array('IP error','There was an internal error processing the card payment.'),
		30		=> array('Org on file for your organization is bad','There was an internal error processing the card payment.'),
		31		=> array('Org parameter is bad','There was an internal error processing the card payment.'),
		32		=> array('Org parameter and Org on file don’t match','There was an internal error processing the card payment.'),
		33		=> array('Program Type ID parameter not passed','There was an internal error processing the card payment.'),
		34		=> array('Program Type ID not registered for your company','There was an internal error processing the card payment.'),
		35		=> array('Program Type ID bad','There was an internal error processing the card payment.'),
		36		=> array('Program ID bad','There was an internal error processing the card payment.'),
		37		=> array('Program type id not valid for web service','There was an internal error processing the card payment.'),
		40		=> array('Reference ID not valid','There was an internal error processing the card payment.'),
		41		=> array('Transaction ID not valid','There was an internal error processing the card payment.'),
		42		=> array('Transcode not valid','There was an internal error processing the card payment.'),
		1010	=> array('Payment type not valid','There was an internal error processing the card payment.'),
		1020	=> array('Currency type not valid','The selected currency is invalid.'),
		1030	=> array('Order amount not valid','The order amount is missing or invalid.'),
		1040	=> array('Amount paid not valid','The order amount is missing or invalid.'),
		1050	=> array('Sub order (after parsing ecommerce order) has an amount paid that is not valid for payment_type','The order amount is missing or invalid.'),
		2010	=> array('No customer information was supplied','Customer information missing or invalid.'),
		2020	=> array('Format of customer information not valid','Customer information missing or invalid.'),
		2030	=> array('Cust org must be specified if web svc org is a parent and customer_number is set','Customer information missing or invalid.'),
		2040	=> array('Cust org not valid','Customer information missing or invalid.'),
		2050	=> array('Customer number must be supplied if refresh customer is "Y"','Customer information missing or invalid.'),
		2060	=> array('Customer number not valid','Customer information missing or invalid.'),
		2070	=> array('First name not valid','Customer information missing or invalid.'),
		2080	=> array('MI not valid','Customer information missing or invalid.'),
		2090	=> array('Last name not valid','Customer information missing or invalid.'),
		2100	=> array('Professional Title not valid','Customer information missing or invalid.'),
		2110	=> array('Business Name not valid','Customer information missing or invalid.'),
		2120	=> array('Add1 not valid','Customer information missing or invalid.'),
		2130	=> array('Add2 not valid','Customer information missing or invalid.'),
		2140	=> array('Add3 not valid','Customer information missing or invalid.'),
		2150	=> array('City not valid','Customer information missing or invalid.'),
		2160	=> array('State not valid','Customer information missing or invalid.'),
		2170	=> array('Zip not valid','Customer information missing or invalid.'),
		2180	=> array('Country not valid','Customer information missing or invalid.'),
		2190	=> array('Phone not valid','Customer information missing or invalid.'),
		2200	=> array('FAX not valid','Customer information missing or invalid.'),
		2210	=> array('Title not valid','Customer information missing or invalid.'),
		2220	=> array('Suffix not valid','Customer information missing or invalid.'),
		2230	=> array('Email not valid','Customer information missing or invalid.'),
		2240	=> array('Alt City not valid','Customer information missing or invalid.'),
		2250	=> array('Optin flag not valid','Customer information missing or invalid.'),
		3010	=> array('Gift customer array has an invalid format','Customer information missing or invalid.'),
		3020	=> array('Gift ref not supplied','Customer information missing or invalid.'),
		3030	=> array('The same gift ref is used for more than one gift customer','Customer information missing or invalid.'),
		3040	=> array('Gift ref has an invalid format','Customer information missing or invalid.'),
		3050	=> array('Gift ref not found on any order','Customer information missing or invalid.'),
		3060	=> array('Gift cust org must be specified if web svc org is a parent and customer_number is set','Customer information missing or invalid.'),
		3070	=> array('Gift org invalid','Customer information missing or invalid.'),
		3080	=> array('Gift customer number not valid','Customer information missing or invalid.'),
		3090	=> array('Gift first name not valid','Customer information missing or invalid.'),
		3100	=> array('Gift MI not valid','Customer information missing or invalid.'),
		3110	=> array('Gift last name not valid','Customer information missing or invalid.'),
		3120	=> array('Gift Professional Title not valid','Customer information missing or invalid.'),
		3130	=> array('Gift Business Name not valid','Customer information missing or invalid.'),
		3140	=> array('Gift add1  not valid','Customer information missing or invalid.'),
		3150	=> array('Gift add2 not valid','Customer information missing or invalid.'),
		3160	=> array('Gift add3 not valid','Customer information missing or invalid.'),
		3170	=> array('Gift city not valid','Customer information missing or invalid.'),
		3180	=> array('Gift state not valid','Customer information missing or invalid.'),
		3190	=> array('Gift zip not valid','Customer information missing or invalid.'),
		3200	=> array('Gift country not valid','Customer information missing or invalid.'),
		3210	=> array('Gift phone not valid','Customer information missing or invalid.'),
		3220	=> array('Gift FAX not valid','Customer information missing or invalid.'),
		3230	=> array('Gift title not valid','Customer information missing or invalid.'),
		3240	=> array('Gift suffix not valid','Customer information missing or invalid.'),
		3250	=> array('Gift email not valid','Customer information missing or invalid.'),
		3260	=> array('Gift Alt City not valid','Customer information missing or invalid.'),
		3270	=> array('Gift optin flag not valid','Customer information missing or invalid.'),
		4010	=> array('Ship addresses array has an invalid format','Customer information missing or invalid.'),
		4020	=> array('Ship ref not supplied','Customer information missing or invalid.'),
		4030	=> array('The same ship ref is used for more than one shipping address','Customer information missing or invalid.'),
		4040	=> array('Ship ref has an invalid format','Customer information missing or invalid.'),
		4050	=> array('Ship ref not found on any order','Customer information missing or invalid.'),
		4060	=> array('Ship first name not valid','Customer information missing or invalid.'),
		4070	=> array('Ship MI not valid','Customer information missing or invalid.'),
		4080	=> array('Ship last name not valid','Customer information missing or invalid.'),
		4090	=> array('Ship Professional Title not valid','Customer information missing or invalid.'),
		4100	=> array('Ship Business Name not valid','Customer information missing or invalid.'),
		4110	=> array('Ship add1  not valid','Customer information missing or invalid.'),
		4120	=> array('Ship add2 not valid','Customer information missing or invalid.'),
		4130	=> array('Ship add3 not valid','Customer information missing or invalid.'),
		4140	=> array('Ship city not valid','Customer information missing or invalid.'),
		4150	=> array('Ship state not valid','Customer information missing or invalid.'),
		4160	=> array('Ship zip not valid','Customer information missing or invalid.'),
		4170	=> array('Ship country not valid','Customer information missing or invalid.'),
		4180	=> array('Ship phone not valid','Customer information missing or invalid.'),
		4190	=> array('Ship FAX not valid','Customer information missing or invalid.'),
		4200	=> array('Ship title not valid','Customer information missing or invalid.'),
		4210	=> array('Ship suffix not valid','Customer information missing or invalid.'),
		5010	=> array('"cn_orders" does not have the correct format','There was an internal error processing the card payment.'),
		5020	=> array('"ca_orders" does not have the correct format','There was an internal error processing the card payment.'),
		5030	=> array('"su_orders" does not have the correct format','There was an internal error processing the card payment.'),
		5040	=> array('Nothing was ordered','There was an internal error processing the card payment.'),
		5050	=> array('Program type id on order not valid','There was an internal error processing the card payment.'),
		5060	=> array('Payment type not valid for program type','There was an internal error processing the card payment.'),
		5070	=> array('Order org not valid','There was an internal error processing the card payment.'),
		5080	=> array('Key code not valid','There was an internal error processing the card payment.'),
		5090	=> array('Product on order not valid','There was an internal error processing the card payment.'),
		5100	=> array('Could not resolve to a valid brand id','There was an internal error processing the card payment.'),
		5110	=> array('Gift ref on order not found in gift_customers','There was an internal error processing the card payment.'),
		5120	=> array('Ship ref on order not found in ship_addresses','There was an internal error processing the card payment.'),
		5130	=> array('Ship ref on order, but not allowed for program type','There was an internal error processing the card payment.'),
		5140	=> array('Both gift_ref and ship_ref on the same order not allowed','There was an internal error processing the card payment.'),
		5150	=> array('Qty not valid','The order amount is missing or invalid.'),
		5160	=> array('Price not valid','The order amount is missing or invalid.'),
		5170	=> array('Shipping not valid','The order amount is missing or invalid.'),
		5180	=> array('Tax not valid','The order amount is missing or invalid.'),
		5190	=> array('Rush charge not valid','The order amount is missing or invalid.'),
		5200	=> array('Net discount not valid','The order amount is missing or invalid.'),
		5210	=> array('"Send email confirmation" not valid','Customer information missing or invalid.'),
		5220	=> array('Auto charge not valid','There was an internal error processing the card payment.'),
		5230	=> array('Ref order ID not valid','There was an internal error processing the card payment.'),
		5240	=> array('Nickname not valid','There was an internal error processing the card payment.'),
		5250	=> array('Priority shipping not valid','There was an internal error processing the card payment.'),
		5260	=> array('Allow contract limits not valid','There was an internal error processing the card payment.'),
		5270	=> array('Premium 1 not valid','There was an internal error processing the card payment.'),
		5280	=> array('Premium 2 not valid','There was an internal error processing the card payment.'),
		5290	=> array('Premium 3 not valid','There was an internal error processing the card payment.'),
		5300	=> array('Term not valid','There was an internal error processing the card payment.'),
		5310	=> array('Start issue not valid','There was an internal error processing the card payment.'),
		5320	=> array('Survey Trans ID not valid','There was an internal error processing the card payment.'),
		5330	=> array('Survey Trans ID not valid for payment type','There was an internal error processing the card payment.'),
		5340	=> array('Price on purchase record was zero, which is not valid','The order amount is missing or invalid.'),
		5350	=> array('Price on purchase record was zero, which is not valid if shipping or tax have a value','The order amount is missing or invalid.'),
		5360	=> array('Price on purchase record was zero, but free_ok was not Y','The order amount is missing or invalid.'),
		5370	=> array('Invalid purchase record customer_number','Customer information missing or invalid.'),
		5380	=> array('Customer not found using purchase record customer_number','Customer information missing or invalid.'),
		5390	=> array('Product not active / valid (for subscriptions only)','There was an internal error processing the card payment.'),
		5400	=> array('Agency code not valid','There was an internal error processing the card payment.'),
		5410	=> array('Agency remit amount not valid','There was an internal error processing the card payment.'),
		5420	=> array('Agency code supplied but no agency_remit_amt','There was an internal error processing the card payment.'),
		5430	=> array('Agency remit amount supplied but no agency_code','There was an internal error processing the card payment.'),
		5440	=> array('Invalid ship_code was passed','Shipping information missing or invalid.'),
		5450	=> array('When ship_code is specified, priority_shipping cannot be "Y" (they are mutually exclusive.)','Shipping information missing or invalid.'),
		5460	=> array('Invalid order_ref_id was passed','There was an internal error processing the card payment.'),
		5470	=> array('Invalid vendor_id was passed','There was an internal error processing the card payment.'),
		5480	=> array('Invalid web_survey was passed','There was an internal error processing the card payment.'),
		5490	=> array('Invalid web_survey payment type was passed','There was an internal error processing the card payment.'),
		5500	=> array('Invalid entity_id  was passed','There was an internal error processing the card payment.'),
		5510	=> array('Errors with drop_ship (defaults to “N” if not “Y”)','Shipping information missing or invalid.'),
		5520	=> array('Errors with drop_ship_status (defaults to “” if not “S” or drop_ship is not “Y”)','Shipping information missing or invalid.'),
		5530	=> array('nickname did not pass validation','Customer information missing or invalid.'),
		5540	=> array('access_duration_type did not pass validation','There was an internal error processing the card payment.'),
		5550	=> array('access_duration did not pass validation','There was an internal error processing the card payment.'),
		5560	=> array('access_eff_date did not pass validation','There was an internal error processing the card payment.'),
		5570	=> array('access_duration_type, access_duration, or access_eff_date were passed in, but not all of them (which is required.)','There was an internal error processing the card payment.'),
		5610	=> array('"sp_orders" does not have the correct format','There was an internal error processing the card payment.'),
		5620	=> array('Product was not active/valid','There was an internal error processing the card payment.'),
		5630	=> array('No special programs ordered','There was an internal error processing the card payment.'),
		5640	=> array('offer_pmt not valid','There was an internal error processing the card payment.'),
		5650	=> array('offer_tax not valid','There was an internal error processing the card payment.'),
		5670	=> array('offer_baldue not valid','There was an internal error processing the card payment.'),
		5690	=> array('offer_baldue_date not valid','There was an internal error processing the card payment.'),
		5700	=> array('If offer_baldue > 0, offer_baldue_date is required, but is missing','There was an internal error processing the card payment.'),
		5710	=> array('recurring_amt is not valid','There was an internal error processing the card payment.'),
		5730	=> array('recurring_date is not valid','There was an internal error processing the card payment.'),
		5740	=> array('If recurring_amt > 0, recurring_date is required, but is missing','There was an internal error processing the card payment.'),
		5750	=> array('frequency is not valid','There was an internal error processing the card payment.'),
		5760	=> array('period is not valid','There was an internal error processing the card payment.'),
		5770	=> array('payment_type is not valid based on the amounts on this order','There was an internal error processing the card payment.'),
		5610	=> array('"sp_orders" does not have the correct format','There was an internal error processing the card payment.'),
		6010	=> array('Could not find the customer matchkey using customer number','Customer information missing or invalid.'),
		6020	=> array('Could not find the gift customer matchkey using gift customer number','Customer information missing or invalid.'),
		6030	=> array('Could not find the customer profile using customer number','Customer information missing or invalid.'),
		6040	=> array('Could not find the gift customer profile using gift customer number','Customer information missing or invalid.'),
		6050	=> array('DB error adding customer','There was an internal error processing the card payment.'),
		6060	=> array('DB error adding gift customer','There was an internal error processing the card payment.'),
		6070	=> array('Error adding customer','There was an internal error processing the card payment.'),
		6080	=> array('Error adding gift customer','There was an internal error processing the card payment.'),
		6090	=> array('No response adding customer','There was an internal error processing the card payment.'),
		6100	=> array('No response adding gift customer','There was an internal error processing the card payment.'),
		6110	=> array('Customer could not be found OR added','Customer information missing or invalid.'),
		6120	=> array('Gift customer could not be found OR added','Customer information missing or invalid.'),
		7000	=> array('No transactions allowed in readonly mode','There was an internal error processing the card payment.'),
		9999	=> array('Unknown error occurred','There was an internal error processing the card payment.'),
		10260	=> array('decline: Declined', 'The card has been declined.')
	);
	if (!array_key_exists($e, $errors)) {
		$e = 9999;
	}
	return $errors[$e];
}

